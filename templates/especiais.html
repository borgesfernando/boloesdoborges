<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title id="tituloPagina">Como Participar</title>
  <link rel="stylesheet" href="../css/styles.css">
  <script defer src="../js/config.js"></script>
  <script defer>
    document.addEventListener("DOMContentLoaded", () => {
      const params = new URLSearchParams(window.location.search);
      const id = params.get("id");
      const projeto = PROJETOS.especiais.projetos.find(p => p.id === id);

      if (!projeto) {
        document.body.innerHTML = '<div class="container"><h1>Projeto n√£o encontrado</h1></div>';
        return;
      }

      document.title = `Como Participar - ${projeto.nome}`;
      document.getElementById("tituloPagina").textContent = `Como Participar - ${projeto.nome}`;
      document.getElementById("headerTitle").textContent = "Como Participar";
      document.getElementById("headerSubtitle").textContent = `${projeto.nome} - Apura√ß√£o: ${projeto.dataSorteio}`;
      document.getElementById("infoProjeto").innerHTML = `
        <ul>
          <li>Nome: <strong>${projeto.nome}</strong></li>
          <li>Cota: <strong>R$ ${projeto.cota},00</strong> (${projeto.parcelas}x R$ ${projeto.valorMes},00)</li>
          <li>Parcelas mensais: de <strong>${projeto.mesInicio}</strong> a <strong>${projeto.mesFim}</strong>, com vencimento no dia <strong>${projeto.diaPix}</strong> de cada m√™s</li>
          <li>Data limite de pagamento da √∫ltima parcela: <strong>${projeto.dataLimite}</strong></li>
          <li>Data do sorteio: <strong>${projeto.dataSorteio}</strong></li>
          <li>100% do valor arrecadado √© convertido em apostas</li>
          <li>Organizador isento como pr√≥-labore</li>
        </ul>`;
      document.body.style.setProperty("--secondary", `rgb(${projeto.corPrimaria})`);

      gerarTextoEntrada(projeto);
    });

    function gerarTextoEntrada(projeto) {
      const nomeMeses = ['Janeiro','Fevereiro','Mar√ßo','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'];
      const entradaDiv = document.getElementById("valoresEntradaDinamico");
      const hoje = new Date();
      const mesAtual = hoje.getMonth() + 1; // 1 a 12
      const mesInicio = parseInt(projeto.mesInicio);
      const mesFim = parseInt(projeto.mesFim);
      const valorMes = projeto.valorMes;

      let html = '<ul>';

      for (let mes = mesInicio; mes <= mesFim; mes++) {
        if (mes > mesAtual) break;

        let valorTotal = 0;
        for (let i = mesInicio; i <= mes; i++) {
          valorTotal += i < mes ? valorMes + 1 : valorMes;
        }

        const nomeMes = nomeMeses[mes - 1];
        html += `<li><strong>${nomeMes}</strong> ‚Üí R$ ${valorTotal},00<br>üîÅ A partir do m√™s seguinte, siga com parcelas mensais ‚úÖ</li>`;
      }

      html += '</ul>';
      entradaDiv.innerHTML = html;
    }
  </script>
</head>
<body>
  <header>
    <div class="container">
      <h1 id="headerTitle"></h1>
      <p id="headerSubtitle"></p>
    </div>
  </header>

  <div class="container">
    <div class="content-card">
      <h2>Detalhes do Projeto</h2>
      <div id="infoProjeto"></div>

      <div class="highlight-box">
        <h2>POSSO PARTICIPAR?</h2>
        <p>Sim! Os requisitos para sua participa√ß√£o no Bol√£o s√£o:</p>
        <ul>
          <li>Ser ex-integrante de projetos anteriores ou indicado.</li>
          <li>Acreditar na sorte e no grupo.</li>
          <li>Compromisso com os pagamentos mensais.</li>
          <li>WhatsApp ativo e aceita√ß√£o de grupo administrado somente pelo organizador.</li>
        </ul>
      </div>

      <h2>PREMIA√á√ÉO</h2>
      <ol>
        <li>Se o rateio for significativo: PIX para cada participante.</li>
        <li>Se pequeno: reaposta em novos concursos acumulados.</li>
      </ol>

      <h2>ENTRADA AP√ìS O IN√çCIO</h2>
      <div id="valoresEntradaDinamico"></div>

      <a href="https://docs.google.com/forms/d/e/1FAIpQLSeGURdHgTYpsLF4hcW45xlHJGkdqv4ubCNr3lvGk4dGCcTqxw/viewform" class="btn">Quero Participar</a>
    </div>
  </div>

  <footer>
    <div class="container">
      <p>¬© Borges - Projetos de Bol√µes - Todos os direitos reservados</p>
      <p style="margin-top: 0.5rem;">
        Organizado por
        <a href="mailto:correiodofernando@gmail.com"
           style="color: #0077C8;
                  text-decoration: none;
                  transition: all 0.3s ease;
                  display: inline-flex;
                  align-items: center;
                  gap: 4px;">
          Borges
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="#0077C8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M22 6L12 13L2 6" stroke="#0077C8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </a>
      </p>
    </div>
  </footer>
</body>
</html>
