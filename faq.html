<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Bol√µes do Borges: Projetos com tecnologia e responsabilidade. Participe conosco! &quot;Transpar√™ncia e Confian√ßa s√£o os alicerces de um Bol√£o vencedor&quot;">
  <title>Perguntas Frequentes ‚Äì Projetos de Bol√µes</title>
  <link rel="stylesheet" href="css/styles.css" />
  <style>
    .accordion {
      border: none;
      border-bottom: 1px solid #d9d9d9;
      cursor: pointer;
      width: 100%;
      text-align: left;
      background-color: #f9f9f9;
      font-weight: 600;
      transition: background-color 0.25s ease;
      display: grid;
      grid-template-columns: min-content 1fr auto;
      grid-template-areas: "index text icon";
      align-items: start;
      column-gap: 0.85rem;
      row-gap: 0.5rem;
      font-size: clamp(0.98rem, 0.94rem + 0.25vw, 1.18rem);
      padding: 1.05rem 1.15rem;
      border-radius: 4px;
    }
    .accordion:hover {
      background-color: #e9e9e9;
    }
    .accordion.active {
      background-color: #e0f7e9;
    }
    .accordion:focus-visible {
      outline: 3px solid rgba(0, 119, 200, 0.35);
      outline-offset: 2px;
    }
    .accordion .accordion-index {
      color: #005da4;
      font-weight: 700;
      min-width: 1.6rem;
      text-align: right;
      grid-area: index;
    }
    .accordion .accordion-text {
      grid-area: text;
      line-height: 1.55;
      white-space: normal;
      min-width: 0;
    }
    .accordion .accordion-icon {
      font-size: 1.25rem;
      line-height: 1;
      color: #005da4;
      transition: color 0.3s ease;
      grid-area: icon;
      justify-self: end;
      align-self: start;
    }
    .accordion.active .accordion-icon {
      color: #007f5f;
    }
    .panel {
      overflow: hidden;
      max-height: 0;
      padding: 0 1rem;
      background-color: white;
      transition: max-height 0.35s ease, padding 0.35s ease;
      font-size: clamp(0.95rem, 0.9rem + 0.2vw, 1.12rem);
      line-height: 1.65;
      word-break: break-word;
      text-align: left;
    }
    .panel.show {
      padding: 1rem;
    }
    .panel p:not(:last-child) {
      margin-bottom: 0.8rem;
    }
    .panel ul {
      margin: 0.75rem 0 0.75rem 1.1rem;
      padding-left: 0;
    }
    .panel li {
      margin-bottom: 0.45rem;
    }
    @media (max-width: 640px) {
      .accordion {
        font-size: clamp(0.94rem, 0.92rem + 0.35vw, 1.08rem);
        padding: 0.95rem 1rem;
        column-gap: 0.6rem;
        row-gap: 0.35rem;
        grid-template-columns: min-content 1fr;
        grid-template-areas:
          "index text"
          ". icon";
      }
      .accordion .accordion-index {
        min-width: 1.2rem;
        text-align: left;
        align-self: start;
      }
      .accordion .accordion-icon {
        font-size: 1.1rem;
        justify-self: end;
      }
      .panel {
        font-size: clamp(0.92rem, 0.88rem + 0.3vw, 1.05rem);
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Perguntas Frequentes</h1>
      <p>Tire aqui suas d√∫vidas antes de participar dos nossos projetos de Bol√µes!</p>
    </div>
  </header>

  <div class="container" style="padding: 2rem 0;">
    <div class="card" id="faq-container">
      <p id="faq-loading">Carregando FAQ...</p>
      <noscript>Ative o JavaScript para visualizar a FAQ.</noscript>
    </div>
  </div>

  <footer>
    <div class="container" style="text-align: center; padding: 2rem 0;">
      <h3>Junte-se √† nossa comunidade!</h3>
      <p style="margin: 1rem 0;">Acompanhe todas as atualiza√ß√µes e participe dos nossos projetos</p>
  
      <a href="https://docs.google.com/forms/d/e/1FAIpQLSeGURdHgTYpsLF4hcW45xlHJGkdqv4ubCNr3lvGk4dGCcTqxw/viewform" class="btn sb2026" target="_blank" rel="noopener noreferrer">Entrar na Comunidade</a>
  
      <div style="margin: 2rem 0 1rem;">
        <a href="index.html" class="btn sb2026">‚¨ÖÔ∏è Voltar para a P√°gina Principal</a>
      </div>
  
      <p style="margin-top: 1.5rem;">¬© 2026 Super Bol√£o‚Ñ¢ - Todos os direitos reservados</p>
      
      <p style="margin-top: 0.5rem;">
        Organizado por
        <a href="mailto:correiodofernando@gmail.com"
           style="color: #0077C8;
                  text-decoration: none;
                  transition: all 0.3s ease;
                  display: inline-flex;
                  align-items: center;
                  gap: 4px;">
          Fernando Borges
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="#0077C8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M22 6L12 13L2 6" stroke="#0077C8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </a>
      </p>
  
      <p style="margin-top: 1.5rem; font-style: italic;">
        Transpar√™ncia e Confian√ßa s√£o os alicerces de um Bol√£o vencedor üèÜ
      </p>
    </div>
  </footer>


  <script>
    const FAQ_LINK_MAP = {
      ROTA_ESPECIAL_MEGA_VIRADA: 'templates/especiais.html?id=mega-virada',
      ROTA_ESPECIAL_QUINA_SAO_JOAO: 'templates/especiais.html?id=quina-saojoao',
      ROTA_ESPECIAL_LF_INDEPENDENCIA: 'templates/especiais.html?id=lf-independencia',
      ROTA_ESPECIAL_DS_PASCOA: 'templates/especiais.html?id=ds-pascoa',
      ROTA_MENSAL_LF: 'templates/mensais.html?id=lf-mensal',
      ROTA_MENSAL_QUINA: 'templates/mensais.html?id=quina-mensal',
      ROTA_ACUMULADA_MEGA: 'templates/acumulados.html?id=mega-acumulada',
      ROTA_ACUMULADA_QUINA: 'templates/acumulados.html?id=quina-acumulada',
      ROTA_COMUNIDADE: 'https://docs.google.com/forms/d/e/1FAIpQLSeGURdHgTYpsLF4hcW45xlHJGkdqv4ubCNr3lvGk4dGCcTqxw/viewform',
      ROTA_PRESTACAO_CONTAS: 'prest.html',
      ROTA_IA: 'ia.html'
    };

    function resolveFaqLinks(html) {
      if (!html || typeof html !== 'string') return html;
      return html.replace(/href="(ROTA_[A-Z0-9_]+)"/g, (match, key) => {
        const target = FAQ_LINK_MAP[key];
        return target ? `href="${target}"` : match;
      });
    }

    async function loadFaqFromJson() {
      const container = document.getElementById('faq-container');
      if (!container) return false;
      try {
        const res = await fetch('faq.json', { cache: 'no-store' });
        if (!res.ok) throw new Error('Falha ao buscar JSON');
        const data = await res.json();
        if (!Array.isArray(data) || data.length === 0) throw new Error('JSON vazio');

        container.innerHTML = '';
        data.forEach(item => {
          const btn = document.createElement('button');
          btn.className = 'accordion';
          btn.type = 'button';
          btn.dataset.originalText = (item.question || '').toString();
          btn.textContent = btn.dataset.originalText;

          const panel = document.createElement('div');
          panel.className = 'panel';
          panel.innerHTML = resolveFaqLinks((item.answerHtml || '').toString());

          container.appendChild(btn);
          container.appendChild(panel);
        });
        return true;
      } catch (e) {
        container.innerHTML = '<p>N√£o foi poss√≠vel carregar a FAQ no momento. Tente novamente mais tarde.</p>';
        return false;
      }
    }

    function initAccordions() {
      const acc = document.querySelectorAll('.accordion');
      acc.forEach((btn, index) => {
        const numero = index + 1;
        const textoOriginal = (btn.dataset.originalText || btn.textContent || '').trim();
        const panel = btn.nextElementSibling;
        const btnId = `faq-accordion-${index}`;
        const panelId = `faq-panel-${index}`;

        const indexSpan = document.createElement('span');
        indexSpan.className = 'accordion-index';
        indexSpan.textContent = `${numero}.`;

        const textSpan = document.createElement('span');
        textSpan.className = 'accordion-text';
        textSpan.textContent = textoOriginal;

        const iconSpan = document.createElement('span');
        iconSpan.className = 'accordion-icon';
        iconSpan.setAttribute('aria-hidden', 'true');
        iconSpan.textContent = '‚ûï';

        btn.textContent = '';
        btn.append(indexSpan, textSpan, iconSpan);
        btn.setAttribute('id', btnId);
        btn.setAttribute('aria-expanded', 'false');
        btn.setAttribute('aria-controls', panelId);

        if (panel) {
          panel.setAttribute('id', panelId);
          panel.setAttribute('role', 'region');
          panel.setAttribute('aria-labelledby', btnId);
          panel.setAttribute('aria-hidden', 'true');
          panel.classList.remove('show');
          panel.style.maxHeight = '0px';
          panel.style.overflow = 'hidden';
        }

        btn.addEventListener('click', () => {
          const currentPanel = btn.nextElementSibling;
          const alreadyOpen = btn.classList.contains('active');

          acc.forEach(other => {
            const otherPanel = other.nextElementSibling;
            const otherIcon = other.querySelector('.accordion-icon');
            other.classList.remove('active');
            other.setAttribute('aria-expanded', 'false');
            if (otherPanel) {
              if (otherPanel === currentPanel && !alreadyOpen) {
                return;
              }
              const currentHeight = otherPanel.scrollHeight;
              otherPanel.classList.remove('show');
              otherPanel.setAttribute('aria-hidden', 'true');
              otherPanel.style.overflow = 'hidden';
              otherPanel.style.maxHeight = currentHeight + 'px';
              requestAnimationFrame(() => {
                otherPanel.style.maxHeight = '0px';
              });
            }
            if (otherIcon) otherIcon.textContent = '‚ûï';
          });

          if (!alreadyOpen) {
            btn.classList.add('active');
            btn.setAttribute('aria-expanded', 'true');
            const icon = btn.querySelector('.accordion-icon');
            if (currentPanel) {
              currentPanel.classList.add('show');
              currentPanel.setAttribute('aria-hidden', 'false');
              currentPanel.style.overflow = 'hidden';
              const targetHeight = currentPanel.scrollHeight;
              currentPanel.style.maxHeight = targetHeight + 'px';
              requestAnimationFrame(() => {
                currentPanel.style.maxHeight = 'none';
                currentPanel.style.overflow = 'visible';
              });
            }
            if (icon) icon.textContent = '‚ûñ';
          }
        });
      });
    }

    (async () => {
      const ok = await loadFaqFromJson();
      if (ok) initAccordions();
    })();

    window.addEventListener('resize', () => {
      document.querySelectorAll('.accordion.active').forEach(btn => {
        const panel = btn.nextElementSibling;
        if (panel && panel.classList.contains('show')) {
          panel.style.overflow = 'hidden';
          panel.style.maxHeight = panel.scrollHeight + 'px';
          requestAnimationFrame(() => {
            panel.style.maxHeight = 'none';
            panel.style.overflow = 'visible';
          });
        }
      });
    });
  </script>

  <script>
    function copiarPix(botao) {
      const chave = botao.getAttribute("data-pix");
      navigator.clipboard.writeText(chave).then(() => {
        const feedback = document.getElementById("feedbackPix");
        feedback.style.display = "block";
        setTimeout(() => {
          feedback.style.display = "none";
        }, 2000);
      });
    }
  </script>
  
</body>
</html>
